<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Life Data Analysis Part I - Estimation of Failure Probabilities • weibulltools</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Life Data Analysis Part I - Estimation of Failure Probabilities">
<meta property="og:description" content="weibulltools">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">weibulltools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Life_Data_Analysis_Part_I.html">Life Data Analysis Part I - Estimation of Failure Probabilities</a>
    </li>
    <li>
      <a href="../articles/Life_Data_Analysis_Part_II.html">Life Data Analysis Part II - Parameter Estimation of Parametric Lifetime Models</a>
    </li>
    <li>
      <a href="../articles/Life_Data_Analysis_Part_III.html">Life Data Analysis Part III - Mixture Models</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Life_Data_Analysis_Part_I_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="Life_Data_Analysis_Part_I_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="Life_Data_Analysis_Part_I_files/anchor-sections-1.0/anchor-sections.js"></script><script src="Life_Data_Analysis_Part_I_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="Life_Data_Analysis_Part_I_files/plotly-binding-4.9.2.1/plotly.js"></script><script src="Life_Data_Analysis_Part_I_files/typedarray-0.1/typedarray.min.js"></script><script src="Life_Data_Analysis_Part_I_files/jquery-1.11.3/jquery.min.js"></script><link href="Life_Data_Analysis_Part_I_files/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet">
<script src="Life_Data_Analysis_Part_I_files/crosstalk-1.1.0.1/js/crosstalk.min.js"></script><link href="Life_Data_Analysis_Part_I_files/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet">
<script src="Life_Data_Analysis_Part_I_files/plotly-main-1.52.2/plotly-latest.min.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Life Data Analysis Part I - Estimation of Failure Probabilities</h1>
            <h3 class="subtitle">A Non-parametric Approach</h3>
                        <h4 class="author">Tim-Gunnar Hensel</h4>
            
            <h4 class="date">2020-11-11</h4>
      
      
      <div class="hidden name"><code>Life_Data_Analysis_Part_I.Rmd</code></div>

    </div>

    
    
<p>This document presents non-parametric methods for estimating the failure probabilities of units and their presentation in interactive visualizations. A unit can be a single component, an assembly or an entire system.</p>
<div id="introduction-to-life-data-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction-to-life-data-analysis" class="anchor"></a>Introduction to Life Data Analysis</h2>
<p>If the lifetime of a unit is considered to be a continuous random variable <em>T</em>, then the probability that a unit has failed by a certain point in time or a distance <em>t</em> is defined by its CDF <em>(cumulative distribution function)</em> <em>F(t)</em>. <span class="math display">\[ P(T\leq t) = F(t) \]</span></p>
<p>In order to obtain an estimate of the cumulative failure probability for each observation <span class="math inline">\(t_1, t_2, ..., t_n\)</span> two approaches are possible.<br>
Using a parametric lifetime distribution requires that the underlying assumptions for the sample data are valid. If the distribution-specific assumptions are correct, the model parameters can be estimated and the CDF is computable. But if the required conditions could not be met, interpretations and derived conclusions are not reliable.<br>
A more general approach for the calculation of the cumulative failure probability is to use non-parametric statistical estimators <span class="math inline">\(\hat{F}(t_1), \hat{F}(t_2), ..., \hat{F}(t_n)\)</span>. In comparison to a parametric distribution no general assumptions must be held. For non-parametric estimators, an ordered sample of size n is needed. Starting at 1, the ranks <span class="math inline">\(i \in \{1, 2, ..., n \}\)</span> are assigned to the ascending sorted sample values. Since there is a known relationship between ranks and corresponding ranking probabilities a CDF can be calculated.</p>
<p>But rank distributions are systematically skewed distributions and thus the median value instead of the expected value <span class="math inline">\(E\left[F\left(t_i\right)\right] = \frac{i}{n + 1}\)</span> is used for estimation <a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>. This skewness is visualized in <em>Figure 1</em>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span> <span class="co"># using dplyr manipulation functions and ggplot2</span>
<span class="co">#&gt; Warning: Paket 'tidyr' wurde unter R Version 4.0.3 erstellt</span>

<span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, length.out <span class="op">=</span> <span class="fl">100</span><span class="op">)</span> <span class="co"># CDF</span>
<span class="va">n</span> <span class="op">&lt;-</span> <span class="fl">10</span> <span class="co"># sample size</span>
<span class="va">i</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span>, <span class="fl">5</span>, <span class="fl">7</span>, <span class="fl">9</span><span class="op">)</span> <span class="co"># ranks</span>
<span class="va">r</span> <span class="op">&lt;-</span> <span class="va">n</span> <span class="op">-</span> <span class="va">i</span> <span class="op">+</span> <span class="fl">1</span> <span class="co"># inverse ranking</span>

<span class="va">df_dens</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html">expand.grid</a></span><span class="op">(</span>cdf <span class="op">=</span> <span class="va">x</span>, i <span class="op">=</span> <span class="va">i</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">mutate</span><span class="op">(</span>n <span class="op">=</span> <span class="va">n</span>, r <span class="op">=</span> <span class="va">n</span> <span class="op">-</span> <span class="va">i</span> <span class="op">+</span> <span class="fl">1</span>, pdf <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Beta.html">dbeta</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, shape1 <span class="op">=</span> <span class="va">i</span>, shape2 <span class="op">=</span> <span class="va">r</span><span class="op">)</span><span class="op">)</span>

<span class="va">densplot</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_dens</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">cdf</span>, y <span class="op">=</span> <span class="va">pdf</span>, colour <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">i</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_line</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">scale_colour_discrete</span><span class="op">(</span>guide <span class="op">=</span> <span class="fu">guide_legend</span><span class="op">(</span>title <span class="op">=</span> <span class="st">"i"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">labs</span><span class="op">(</span>x <span class="op">=</span> <span class="st">"Failure Probability"</span>, y <span class="op">=</span> <span class="st">"Density"</span><span class="op">)</span>
<span class="va">densplot</span></code></pre></div>
<div class="figure">
<img src="Life_Data_Analysis_Part_I_files/figure-html/rank%20densities-1.png" alt="Figure 1: Densities for different ranks i in samples of size n = 10." width="700"><p class="caption">
Figure 1: Densities for different ranks i in samples of size n = 10.
</p>
</div>
<div id="failure-probability-estimation" class="section level3">
<h3 class="hasAnchor">
<a href="#failure-probability-estimation" class="anchor"></a>Failure Probability Estimation</h3>
<p>In practice, a simplification for the calculation of the median value, also called median rank, is made. The formula of <em>Benard’s Approximation</em> is given by <span class="math display">\[\hat{F}(t_i) \approx \frac{i - 0,3}{n + 0,4} \]</span> and is described in <em>The Plotting of Observations on Probability Paper </em> <a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>.</p>
<p>However, this equation only provides valid estimates for failure probabilities if all units in the sample are defectives (<code><a href="../reference/mr_method.html">mr_method()</a></code>).</p>
<p>In field data analysis, however, the sample mainly consists of intact units and only a small fraction of units failed. Units that have no damage at the point of analysis and also have not reached the operating time or mileage of units that have already failed, are potential candidates for future failures.<br>
As these, for example, still are likely to fail during a specific time span, like the guarantee period, the failure probability must be adjusted upwards by these potential candidates.</p>
<p>A commonly used method for correcting probabilities of (multiple) right censored data is Johnson’s method (<code><a href="../reference/johnson_method.html">johnson_method()</a></code>). By this method, all units that fall into the period looked at are sorted in an ascending order of their operating time or mileage. If there are units that have not failed before the <em>i</em>-th failure, an adjusted rank for the <em>i</em>-th failure is formed. This correction takes the potential candidates into account and increases the rank number. In consequence, a higher rank leads to a higher failure probability. This can be seen in <em>Figure 1</em>.</p>
<p>The rank adjustment (<code><a href="../reference/calculate_ranks.html">calculate_ranks()</a></code>) is calculated as follows: <span class="math display">\[j_i = j_{i-1} + x_i \cdot I_i, \;\; with \;\; j_0 = 0\]</span></p>
<p>Here, <span class="math inline">\(j_ {i-1}\)</span> is the adjusted rank of the previous failure, <span class="math inline">\(x_i\)</span> is the number of defectives at time/distance <span class="math inline">\(t_i\)</span> and <span class="math inline">\(I_i\)</span> is the increment that corrects the rank by the candidates. <span class="math display">\[I_i=\frac{(n+1)-j_{i-1}}{1+(n-n_i)}\]</span></p>
<p>The sample size is <span class="math inline">\(n\)</span> and <span class="math inline">\(n_i\)</span> is the number of units that have a lower operating time/mileage than the <em>i</em>-th unit. Once the adjusted ranks are calculated, the failure probabilities can be estimated according to <em>Benard’s Approximation</em>.</p>
<p>Other methods in <code>weibulltools</code> that can also handle (multiple) right censored data are the Kaplan-Meier estimator (<code><a href="../reference/kaplan_method.html">kaplan_method()</a></code>) and the Nelson-Aalen estimator (<code><a href="../reference/nelson_method.html">nelson_method()</a></code>).</p>
</div>
<div id="probability-plotting" class="section level3">
<h3 class="hasAnchor">
<a href="#probability-plotting" class="anchor"></a>Probability Plotting</h3>
<p>After computing failure probabilities a method called <em>Probability Plotting</em> is applicable. It is a graphical <em>goodness of fit</em> technique that is used in assessing whether an assumed distribution is appropriate to model the sample data.</p>
<p>The axes of a probability plot are transformed in such a way that the CDF of a specified model is represented through a straight line (<code><a href="../reference/plot_layout.html">plot_layout()</a></code>). If the plotted points (<code><a href="../reference/plot_prob.html">plot_prob()</a></code>) fall on an approximately straight line it can be said that the chosen distribution is adequate.</p>
<p>The two-parameter Weibull distribution can be parameterized with <span class="math inline">\(\eta\)</span> and <span class="math inline">\(\beta\)</span> such that the CDF is characterized by the following equation:<br><span class="math display">\[F(t)=1-\exp\left[ -\left(\frac{t}{\eta}\right)^{\beta}\right]\]</span> Then a linearized version of the CDF is: <span class="math display">\[ \log\left[-\log(1-F(t))\right] = \beta \cdot \log(t) - \beta \cdot \log(\eta)\]</span> This leads to the following transformations regarding the axes:</p>
<ul>
<li>Abscissa: <span class="math inline">\(x = \log(t)\)</span>
</li>
<li>Ordinate: <span class="math inline">\(y = \log\left[-\log(1-F(t))\right]\)</span>.</li>
</ul>
<p>Another version of the Weibull CDF such that the distribution is part of the log-location-scale family with parameters <span class="math inline">\(\mu\)</span> and <span class="math inline">\(\sigma\)</span> is:<br><span class="math display">\[F(t)=\Phi_{SEV}\left(\frac{\log(t) - \mu}{\sigma}\right)\]</span> A linearized representation of this CDF is: <span class="math display">\[\Phi^{-1}_{SEV}\left(F(t)\right)=\frac{1}{\sigma} \cdot \log(t) - \frac{\mu}{\sigma}\]</span> This leads to the following transformations regarding the axes:</p>
<ul>
<li>Abscissa: <span class="math inline">\(x = \log(t)\)</span>
</li>
<li>Ordinate: <span class="math inline">\(y = \Phi^{-1}_{SEV}\left(F(t)\right)\)</span>, which is the quantile function of the SEV (<em>smallest extreme value</em>) distribution.</li>
</ul>
<p>It can be easily seen that the parameters can be converted into each other. The corresponding equations are:</p>
<p><span class="math display">\[\beta = \frac{1}{\sigma} \;\; and \]</span><br><span class="math display">\[\eta = \exp\left(\mu\right).\]</span></p>
</div>
</div>
<div id="data-shock" class="section level2">
<h2 class="hasAnchor">
<a href="#data-shock" class="anchor"></a>Data: shock</h2>
<p>To apply the introduced methods of non-parametric failure probability estimation and probability plotting the <code>shock</code> data taken from <code>SPREDA</code> package is used. In this dataset kilometer-dependent problems that have occurred on shock absorbers are reported. In addition to failed items the dataset also contains non-defectives, so called <em>censored</em> observations.<br>
The data can be found in <em>Statistical Methods for Reliability Data</em> <a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">SPREDA</span><span class="op">)</span> <span class="co"># for dataset shock</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">shock</span><span class="op">)</span>
<span class="co"># generate random ids for units: </span>
<span class="va">shock</span><span class="op">$</span><span class="va">id</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">letters</span>, <span class="va">LETTERS</span><span class="op">)</span>, size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">shock</span><span class="op">)</span>, replace <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="co"># using tibble for better print: </span>
<span class="fu">as_tibble</span><span class="op">(</span><span class="va">shock</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 38 x 4</span>
<span class="co">#&gt;    Distance Mode     Censor id   </span>
<span class="co">#&gt;       &lt;int&gt; &lt;fct&gt;     &lt;dbl&gt; &lt;chr&gt;</span>
<span class="co">#&gt;  1     6700 Mode1         1 j    </span>
<span class="co">#&gt;  2     6950 Censored      0 N    </span>
<span class="co">#&gt;  3     7820 Censored      0 D    </span>
<span class="co">#&gt;  4     8790 Censored      0 X    </span>
<span class="co">#&gt;  5     9120 Mode2         1 y    </span>
<span class="co">#&gt;  6     9660 Censored      0 p    </span>
<span class="co">#&gt;  7     9820 Censored      0 f    </span>
<span class="co">#&gt;  8    11310 Censored      0 o    </span>
<span class="co">#&gt;  9    11690 Censored      0 l    </span>
<span class="co">#&gt; 10    11850 Censored      0 L    </span>
<span class="co">#&gt; # ... with 28 more rows</span>

<span class="co"># Comparison of failure modes: </span>
<span class="fu">ggplot</span><span class="op">(</span>data <span class="op">=</span> <span class="va">shock</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Mode</span>, y <span class="op">=</span> <span class="va">Distance</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_boxplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">theme_bw</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="Life_Data_Analysis_Part_I_files/figure-html/dataset%20shock-1.png" alt="Figure 2: Boxplots for different modes." width="700"><p class="caption">
Figure 2: Boxplots for different modes.
</p>
</div>
</div>
<div id="estimation-of-failure-probabilities-with-package-weibulltools" class="section level2">
<h2 class="hasAnchor">
<a href="#estimation-of-failure-probabilities-with-package-weibulltools" class="anchor"></a>Estimation of Failure Probabilities with Package <code>weibulltools</code>
</h2>
<p>For reasons of simplicity we will ignore the differences between the failure modes <em>Mode1</em> and <em>Mode2</em> which are shown in <em>Figure 2</em>. Thus, we will act as there is only one mechanism of damage.</p>
<p>First, we are interested in how censored observations influence the estimation of failure probabilities in comparison to the case where only failed units are considered. In the latter case we will use the function <code><a href="../reference/mr_method.html">mr_method()</a></code>. To deal with survived and failed units we will use function <code><a href="../reference/johnson_method.html">johnson_method()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># First case where only failed units are taken into account:</span>
<span class="va">df_mr</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mr_method.html">mr_method</a></span><span class="op">(</span>id <span class="op">=</span> <span class="va">shock</span><span class="op">$</span><span class="va">id</span><span class="op">[</span><span class="va">shock</span><span class="op">$</span><span class="va">Censor</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span>, 
                   x <span class="op">=</span> <span class="va">shock</span><span class="op">$</span><span class="va">Distance</span><span class="op">[</span><span class="va">shock</span><span class="op">$</span><span class="va">Censor</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span>, 
                   event <span class="op">=</span> <span class="va">shock</span><span class="op">$</span><span class="va">Censor</span><span class="op">[</span><span class="va">shock</span><span class="op">$</span><span class="va">Censor</span> <span class="op">==</span> <span class="fl">1</span><span class="op">]</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">df_mr</span>, format <span class="op">=</span> <span class="st">"html"</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span>, align <span class="op">=</span> <span class="st">"c"</span>, 
             caption <span class="op">=</span> <span class="st">"Table 1: Failure probabilities using failed items."</span><span class="op">)</span></code></pre></div>
<table class="table">
<caption>
Table 1: Failure probabilities using failed items.
</caption>
<thead><tr>
<th style="text-align:center;">
id
</th>
<th style="text-align:center;">
characteristic
</th>
<th style="text-align:center;">
status
</th>
<th style="text-align:center;">
rank
</th>
<th style="text-align:center;">
prob
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
j
</td>
<td style="text-align:center;">
6700
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
0.0614035
</td>
</tr>
<tr>
<td style="text-align:center;">
y
</td>
<td style="text-align:center;">
9120
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
0.1491228
</td>
</tr>
<tr>
<td style="text-align:center;">
n
</td>
<td style="text-align:center;">
12200
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
0.2368421
</td>
</tr>
<tr>
<td style="text-align:center;">
R
</td>
<td style="text-align:center;">
13150
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
0.3245614
</td>
</tr>
<tr>
<td style="text-align:center;">
M
</td>
<td style="text-align:center;">
14300
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
0.4122807
</td>
</tr>
<tr>
<td style="text-align:center;">
a
</td>
<td style="text-align:center;">
17520
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
6
</td>
<td style="text-align:center;">
0.5000000
</td>
</tr>
<tr>
<td style="text-align:center;">
k
</td>
<td style="text-align:center;">
20100
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
7
</td>
<td style="text-align:center;">
0.5877193
</td>
</tr>
<tr>
<td style="text-align:center;">
S
</td>
<td style="text-align:center;">
20900
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
8
</td>
<td style="text-align:center;">
0.6754386
</td>
</tr>
<tr>
<td style="text-align:center;">
Z
</td>
<td style="text-align:center;">
22700
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
9
</td>
<td style="text-align:center;">
0.7631579
</td>
</tr>
<tr>
<td style="text-align:center;">
q
</td>
<td style="text-align:center;">
26510
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
10
</td>
<td style="text-align:center;">
0.8508772
</td>
</tr>
<tr>
<td style="text-align:center;">
d
</td>
<td style="text-align:center;">
27490
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
11
</td>
<td style="text-align:center;">
0.9385965
</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># Second case where both, survived and failed units are considered:</span>
<span class="va">df_john</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/johnson_method.html">johnson_method</a></span><span class="op">(</span>id <span class="op">=</span> <span class="va">shock</span><span class="op">$</span><span class="va">id</span>, x <span class="op">=</span> <span class="va">shock</span><span class="op">$</span><span class="va">Distance</span>, event <span class="op">=</span> <span class="va">shock</span><span class="op">$</span><span class="va">Censor</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">df_john</span>, format <span class="op">=</span> <span class="st">"html"</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span>, align <span class="op">=</span> <span class="st">"c"</span>, 
             caption <span class="op">=</span> <span class="st">"Table 2: Failure probabilities using all items."</span><span class="op">)</span> </code></pre></div>
<table class="table">
<caption>
Table 2: Failure probabilities using all items.
</caption>
<thead><tr>
<th style="text-align:center;">
id
</th>
<th style="text-align:center;">
characteristic
</th>
<th style="text-align:center;">
status
</th>
<th style="text-align:center;">
rank
</th>
<th style="text-align:center;">
prob
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
j
</td>
<td style="text-align:center;">
6700
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
1.000000
</td>
<td style="text-align:center;">
0.0182292
</td>
</tr>
<tr>
<td style="text-align:center;">
N
</td>
<td style="text-align:center;">
6950
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
D
</td>
<td style="text-align:center;">
7820
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
X
</td>
<td style="text-align:center;">
8790
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
y
</td>
<td style="text-align:center;">
9120
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2.085714
</td>
<td style="text-align:center;">
0.0465030
</td>
</tr>
<tr>
<td style="text-align:center;">
p
</td>
<td style="text-align:center;">
9660
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
f
</td>
<td style="text-align:center;">
9820
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
o
</td>
<td style="text-align:center;">
11310
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
l
</td>
<td style="text-align:center;">
11690
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
L
</td>
<td style="text-align:center;">
11850
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
I
</td>
<td style="text-align:center;">
11880
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
i
</td>
<td style="text-align:center;">
12140
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
n
</td>
<td style="text-align:center;">
12200
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
3.452910
</td>
<td style="text-align:center;">
0.0821070
</td>
</tr>
<tr>
<td style="text-align:center;">
O
</td>
<td style="text-align:center;">
12870
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
R
</td>
<td style="text-align:center;">
13150
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
4.874794
</td>
<td style="text-align:center;">
0.1191353
</td>
</tr>
<tr>
<td style="text-align:center;">
u
</td>
<td style="text-align:center;">
13330
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
g
</td>
<td style="text-align:center;">
13470
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
z
</td>
<td style="text-align:center;">
14040
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
M
</td>
<td style="text-align:center;">
14300
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
6.499803
</td>
<td style="text-align:center;">
0.1614532
</td>
</tr>
<tr>
<td style="text-align:center;">
a
</td>
<td style="text-align:center;">
17520
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
8.124813
</td>
<td style="text-align:center;">
0.2037712
</td>
</tr>
<tr>
<td style="text-align:center;">
s
</td>
<td style="text-align:center;">
17540
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
J
</td>
<td style="text-align:center;">
17890
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
F
</td>
<td style="text-align:center;">
18450
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
b
</td>
<td style="text-align:center;">
18960
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
K
</td>
<td style="text-align:center;">
18980
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
w
</td>
<td style="text-align:center;">
19410
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
k
</td>
<td style="text-align:center;">
20100
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
10.499828
</td>
<td style="text-align:center;">
0.2656205
</td>
</tr>
<tr>
<td style="text-align:center;">
W
</td>
<td style="text-align:center;">
20100
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
C
</td>
<td style="text-align:center;">
20150
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
V
</td>
<td style="text-align:center;">
20320
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
S
</td>
<td style="text-align:center;">
20900
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
13.666514
</td>
<td style="text-align:center;">
0.3480863
</td>
</tr>
<tr>
<td style="text-align:center;">
Z
</td>
<td style="text-align:center;">
22700
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
16.833199
</td>
<td style="text-align:center;">
0.4305521
</td>
</tr>
<tr>
<td style="text-align:center;">
x
</td>
<td style="text-align:center;">
23490
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
q
</td>
<td style="text-align:center;">
26510
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
20.527666
</td>
<td style="text-align:center;">
0.5267621
</td>
</tr>
<tr>
<td style="text-align:center;">
v
</td>
<td style="text-align:center;">
27410
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
d
</td>
<td style="text-align:center;">
27490
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
25.145750
</td>
<td style="text-align:center;">
0.6470247
</td>
</tr>
<tr>
<td style="text-align:center;">
A
</td>
<td style="text-align:center;">
27890
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
<tr>
<td style="text-align:center;">
T
</td>
<td style="text-align:center;">
28100
</td>
<td style="text-align:center;">
0
</td>
<td style="text-align:center;">
NA
</td>
<td style="text-align:center;">
NA
</td>
</tr>
</tbody>
</table>
<p><br> If we compare <em>Table 1</em> and <em>Table 2</em> we can see that survivors decrease probabilities. But this is just that what was expected since undamaged units with longer or equal operation times (here mileage) let us gain confidence in the product.</p>
</div>
<div id="probability-plotting-with-package-weibulltools" class="section level2">
<h2 class="hasAnchor">
<a href="#probability-plotting-with-package-weibulltools" class="anchor"></a>Probability Plotting with Package <code>weibulltools</code>
</h2>
<p>The next step is to visualize the estimated probabilities in a probability plot. With function <code><a href="../reference/plot_prob.html">plot_prob()</a></code> we can construct plots for several lifetime distributions. Here we want to use a Weibull grid in which the estimates, given in <em>Table 1</em> and <em>Table 2</em>, are plotted. With <code><a href="../reference/plot_prob.html">plot_prob()</a></code> we can visualize the estimates of one table (for example <em>Table 2</em>). To get the estimates of the other table (here <em>Table 1</em>) in the same graph, we have to add an additional trace (<code><a href="https://rdrr.io/pkg/plotly/man/add_trace.html">add_trace()</a></code> function of <code>plotly</code> package). As a result the obtained estimates can be compared graphically.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Weibull grid for probabilities calculated with Johnson: </span>
<span class="va">weibull_grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_prob.html">plot_prob</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">df_john</span><span class="op">$</span><span class="va">characteristic</span>, y <span class="op">=</span> <span class="va">df_john</span><span class="op">$</span><span class="va">prob</span>, 
                          event <span class="op">=</span> <span class="va">df_john</span><span class="op">$</span><span class="va">status</span>, id <span class="op">=</span> <span class="va">df_john</span><span class="op">$</span><span class="va">id</span>, 
                          distribution <span class="op">=</span> <span class="st">"weibull"</span>, 
                          title_main <span class="op">=</span> <span class="st">"Weibull Probability Plot"</span>, 
                          title_x <span class="op">=</span> <span class="st">"Mileage in km"</span>, 
                          title_y <span class="op">=</span> <span class="st">"Probability of Failure in %"</span>,
                          title_trace <span class="op">=</span> <span class="st">"Failures (Johnson)"</span><span class="op">)</span>

<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://plotly-r.com">plotly</a></span><span class="op">)</span> <span class="co"># Using add_trace()</span>
<span class="co"># Adding a trace so that estimated probabilities of mr_method can be plotted in </span>
<span class="co"># the same graph: </span>
<span class="co"># Arguments inside add_trace: </span>
<span class="co">#   y: Must be transformed such that quantiles of smallest extreme value distribution are plotted. </span>
<span class="co">#   x: Since distribution in plot_prob is "weibull" the x axis is already on log scale. </span>
<span class="co">#      Thus x can be plugged in on natural scale. </span>
<span class="va">weibull_grid_both</span> <span class="op">&lt;-</span> <span class="va">weibull_grid</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/plotly/man/add_trace.html">add_trace</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df_mr</span>, type <span class="op">=</span> <span class="st">"scatter"</span>, mode <span class="op">=</span> <span class="st">"markers"</span>, x <span class="op">=</span> <span class="op">~</span><span class="va">characteristic</span>, 
    y <span class="op">=</span> <span class="op">~</span><span class="fu">SPREDA</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/SPREDA/man/psev.html">qsev</a></span><span class="op">(</span><span class="va">prob</span><span class="op">)</span>, name <span class="op">=</span> <span class="st">"Failures (MR)"</span>, color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html">I</a></span><span class="op">(</span><span class="st">"#006400"</span><span class="op">)</span>, 
    hoverinfo <span class="op">=</span> <span class="st">"text"</span>, text <span class="op">=</span> <span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"ID:"</span>, <span class="va">id</span>,
      <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"&lt;br&gt;"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"Mileage"</span>, <span class="st">":"</span><span class="op">)</span><span class="op">)</span>, <span class="va">characteristic</span>, 
      <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"&lt;br&gt;"</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"Probability"</span>, <span class="st">":"</span><span class="op">)</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">prob</span>, digits <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> 
<span class="va">weibull_grid_both</span>
<span class="co">#&gt; Warning: `arrange_()` is deprecated as of dplyr 0.7.0.</span>
<span class="co">#&gt; Please use `arrange()` instead.</span>
<span class="co">#&gt; See vignette('programming') for more help</span>
<span class="co">#&gt; This warning is displayed once every 8 hours.</span>
<span class="co">#&gt; Call `lifecycle::last_warnings()` to see where this warning was generated.</span>
<span class="co">#&gt; Warning: The titlefont attribute is deprecated. Use title = list(font = ...)</span>
<span class="co">#&gt; instead.</span></code></pre></div>
<div class="figure">
<div id="htmlwidget-63ee9fa6b03ed49dfc94" style="width:700px;height:432.632880098888px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-63ee9fa6b03ed49dfc94">{"x":{"visdat":{"2a1077ad5bdf":["function () ","plotlyVisDat"],"2a103a9a1155":["function () ","data"]},"cur_data":"2a103a9a1155","attrs":{"2a1077ad5bdf":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","hoverinfo":"text","color":["#3C8DBC"],"name":"Failures (Johnson)","text":{},"inherit":true},"2a103a9a1155":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","mode":"markers","x":{},"y":{},"name":"Failures (MR)","color":["#006400"],"hoverinfo":"text","text":{},"inherit":true}},"layout":{"margin":{"b":55,"l":55,"t":25,"r":10,"pad":4},"xaxis":{"domain":[0,1],"automargin":true,"showticklabels":true,"showgrid":true,"zeroline":false,"color":"#000000","title":"Mileage in km","titlefont":{"family":"Arial","size":12,"color":"#A3A3A3"},"type":"log","autorange":true,"rangemode":"nonnegative","ticks":"inside","tickcolor":"#a0a0a0","tickwidth":1,"tickfont":{"family":"Arial","size":10,"color":"#a0a0a0"},"gridwidth":1,"exponentformat":"none","showline":true,"linecolor":"#a0a0a0","tickvals":[100,200,300,400,500,600,700,800,900,1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,20000,30000,40000,50000,60000,70000,80000,90000,100000],"ticktext":["100","200","300","","","","","","","1000","2000","3000","","","","","","","10000","20000","30000","","","","","","","1e+05"]},"yaxis":{"domain":[0,1],"automargin":true,"showticklabels":true,"showgrid":true,"zeroline":false,"color":"#000000","title":"Probability of Failure in %","titlefont":{"family":"Arial","size":12,"color":"#A3A3A3"},"autorange":true,"tickvals":[-16.1180956014847,-13.8155100579353,-11.5129204649539,-9.21029036989284,-6.90725507052372,-4.60014922677658,-2.97019524904216,-2.25036732731245,-1.49993998675952,-1.03093043315872,-0.366512920581664,-0.0874215717907552,0.185626758862366,0.475884995327111,0.834032445247956,1.09718870036495,1.5271796258079,1.93264473391607,2.22032680636786,2.44347035768245],"ticktext":[1e-05,0.0001,0.001,0.01,0.1,1,5,10,20,30,50,60,70,80,90,95,99,99.9,99.99,99.999],"ticks":"inside","tickcolor":"#a0a0a0","tickwidth":1,"tickfont":{"family":"Arial","size":10,"color":"#a0a0a0"},"gridwidth":1,"exponentformat":"none","showline":true,"linecolor":"#a0a0a0"},"title":"Weibull Probability Plot","titlefont":{"family":"Arial","size":16,"color":"#000000"},"separators":".","legend":{"titlefont":{"family":"Arial","size":10,"color":"#000000"}},"showlegend":true,"hovermode":"closest"},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[6700,9120,12200,13150,14300,17520,20100,20900,22700,26510,27490],"y":[-3.99554782354962,-3.04452395686623,-2.457200182226,-2.06474065075319,-1.73678899196138,-1.47898581666204,-1.17529020954184,-0.848998809090431,-0.574319495171556,-0.29014224783604,0.0405249351517671],"type":"scatter","mode":"markers","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text"],"name":"Failures (Johnson)","text":["ID: j <br> Mileage: 6700 <br> Probability: 0.01823","ID: y <br> Mileage: 9120 <br> Probability: 0.0465","ID: n <br> Mileage: 12200 <br> Probability: 0.08211","ID: R <br> Mileage: 13150 <br> Probability: 0.11914","ID: M <br> Mileage: 14300 <br> Probability: 0.16145","ID: a <br> Mileage: 17520 <br> Probability: 0.20377","ID: k <br> Mileage: 20100 <br> Probability: 0.26562","ID: S <br> Mileage: 20900 <br> Probability: 0.34809","ID: Z <br> Mileage: 22700 <br> Probability: 0.43055","ID: q <br> Mileage: 26510 <br> Probability: 0.52676","ID: d <br> Mileage: 27490 <br> Probability: 0.64702"],"marker":{"color":"rgba(60,141,188,1)","line":{"color":"rgba(60,141,188,1)"}},"textfont":{"color":"rgba(60,141,188,1)"},"error_y":{"color":"rgba(60,141,188,1)"},"error_x":{"color":"rgba(60,141,188,1)"},"line":{"color":"rgba(60,141,188,1)"},"xaxis":"x","yaxis":"y","frame":null},{"type":"scatter","mode":"markers","x":[6700,9120,12200,13150,14300,17520,20100,20900,22700,26510,27490],"y":[-2.75877080793939,-1.8233277251429,-1.30825860236668,-0.935491322751563,-0.632041114179314,-0.366512920581664,-0.12098094098939,0.118032369681424,0.364894180949921,0.643423760820571,1.02614492359126],"name":"Failures (MR)","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text"],"text":["ID: j <br> Mileage: 6700 <br> Probability: 0.0614","ID: y <br> Mileage: 9120 <br> Probability: 0.14912","ID: n <br> Mileage: 12200 <br> Probability: 0.23684","ID: R <br> Mileage: 13150 <br> Probability: 0.32456","ID: M <br> Mileage: 14300 <br> Probability: 0.41228","ID: a <br> Mileage: 17520 <br> Probability: 0.5","ID: k <br> Mileage: 20100 <br> Probability: 0.58772","ID: S <br> Mileage: 20900 <br> Probability: 0.67544","ID: Z <br> Mileage: 22700 <br> Probability: 0.76316","ID: q <br> Mileage: 26510 <br> Probability: 0.85088","ID: d <br> Mileage: 27490 <br> Probability: 0.9386"],"marker":{"color":"rgba(0,100,0,1)","line":{"color":"rgba(0,100,0,1)"}},"textfont":{"color":"rgba(0,100,0,1)"},"error_y":{"color":"rgba(0,100,0,1)"},"error_x":{"color":"rgba(0,100,0,1)"},"line":{"color":"rgba(0,100,0,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p class="caption">
Figure 3: Plotting positions in weibull grid.
</p>
</div>
<p><br><em>Figure 3</em> shows that the consideration of survivors (blue points, <em>Failures (Johnson)</em>) decreases the failure probability in comparison to the sole evaluation of failed items (green points, <em>Failures (MR)</em>).</p>
<p>Finally, we want to use a Log-normal probability plot to visualize the estimated failure probabilities given in <em>Table 2</em>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Log-Normal grid for probabilities calculated with Johnson: </span>
<span class="va">lognorm_grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plot_prob.html">plot_prob</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">df_john</span><span class="op">$</span><span class="va">characteristic</span>, y <span class="op">=</span> <span class="va">df_john</span><span class="op">$</span><span class="va">prob</span>,
                          event <span class="op">=</span> <span class="va">df_john</span><span class="op">$</span><span class="va">status</span>, id <span class="op">=</span> <span class="va">df_john</span><span class="op">$</span><span class="va">id</span>,
                          distribution <span class="op">=</span> <span class="st">"lognormal"</span>,
                          title_main <span class="op">=</span> <span class="st">"Log-Normal Probability Plot"</span>,
                          title_x <span class="op">=</span> <span class="st">"Mileage in km"</span>,
                          title_y <span class="op">=</span> <span class="st">"Probability of Failure in %"</span>,
                          title_trace <span class="op">=</span> <span class="st">"Defect Shock Absorbers"</span><span class="op">)</span>
<span class="va">lognorm_grid</span>
<span class="co">#&gt; Warning: The titlefont attribute is deprecated. Use title = list(font = ...)</span>
<span class="co">#&gt; instead.</span></code></pre></div>
<div class="figure">
<div id="htmlwidget-b555be82121672b10133" style="width:700px;height:432.632880098888px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-b555be82121672b10133">{"x":{"visdat":{"2a1017877d81":["function () ","plotlyVisDat"]},"cur_data":"2a1017877d81","attrs":{"2a1017877d81":{"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"y":{},"type":"scatter","mode":"markers","hoverinfo":"text","color":["#3C8DBC"],"name":"Defect Shock Absorbers","text":{},"inherit":true}},"layout":{"margin":{"b":55,"l":55,"t":25,"r":10,"pad":4},"xaxis":{"domain":[0,1],"automargin":true,"showticklabels":true,"showgrid":true,"zeroline":false,"color":"#000000","title":"Mileage in km","titlefont":{"family":"Arial","size":12,"color":"#A3A3A3"},"type":"log","autorange":true,"rangemode":"nonnegative","ticks":"inside","tickcolor":"#a0a0a0","tickwidth":1,"tickfont":{"family":"Arial","size":10,"color":"#a0a0a0"},"gridwidth":1,"exponentformat":"none","showline":true,"linecolor":"#a0a0a0","tickvals":[100,200,300,400,500,600,700,800,900,1000,2000,3000,4000,5000,6000,7000,8000,9000,10000,20000,30000,40000,50000,60000,70000,80000,90000,100000],"ticktext":["100","200","300","","","","","","","1000","2000","3000","","","","","","","10000","20000","30000","","","","","","","1e+05"]},"yaxis":{"domain":[0,1],"automargin":true,"showticklabels":true,"showgrid":true,"zeroline":false,"color":"#000000","title":"Probability of Failure in %","titlefont":{"family":"Arial","size":12,"color":"#A3A3A3"},"autorange":true,"tickvals":[-5.19933758219282,-4.7534243088229,-4.26489079392283,-3.71901648545568,-3.09023230616781,-2.32634787404084,-1.64485362695147,-1.2815515655446,-0.841621233572914,-0.524400512708041,0,0.2533471031358,0.524400512708041,0.841621233572914,1.2815515655446,1.64485362695147,2.32634787404084,3.09023230616781,3.71901648545571,4.26489079392384],"ticktext":[1e-05,0.0001,0.001,0.01,0.1,1,5,10,20,30,50,60,70,80,90,95,99,99.9,99.99,99.999],"ticks":"inside","tickcolor":"#a0a0a0","tickwidth":1,"tickfont":{"family":"Arial","size":10,"color":"#a0a0a0"},"gridwidth":1,"exponentformat":"none","showline":true,"linecolor":"#a0a0a0"},"title":"Log-Normal Probability Plot","titlefont":{"family":"Arial","size":16,"color":"#000000"},"separators":".","legend":{"titlefont":{"family":"Arial","size":10,"color":"#000000"}},"showlegend":true,"hovermode":"closest"},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[6700,9120,12200,13150,14300,17520,20100,20900,22700,26510,27490],"y":[-2.09177851300416,-1.67975007550474,-1.39103746803009,-1.17932068992538,-0.98850286688565,-0.828226286807733,-0.626112697739813,-0.390492260712081,-0.174968824740996,0.0671331229509395,0.377300172780697],"type":"scatter","mode":"markers","hoverinfo":["text","text","text","text","text","text","text","text","text","text","text"],"name":"Defect Shock Absorbers","text":["ID: j <br> Mileage: 6700 <br> Probability: 0.01823","ID: y <br> Mileage: 9120 <br> Probability: 0.0465","ID: n <br> Mileage: 12200 <br> Probability: 0.08211","ID: R <br> Mileage: 13150 <br> Probability: 0.11914","ID: M <br> Mileage: 14300 <br> Probability: 0.16145","ID: a <br> Mileage: 17520 <br> Probability: 0.20377","ID: k <br> Mileage: 20100 <br> Probability: 0.26562","ID: S <br> Mileage: 20900 <br> Probability: 0.34809","ID: Z <br> Mileage: 22700 <br> Probability: 0.43055","ID: q <br> Mileage: 26510 <br> Probability: 0.52676","ID: d <br> Mileage: 27490 <br> Probability: 0.64702"],"marker":{"color":"rgba(60,141,188,1)","line":{"color":"rgba(60,141,188,1)"}},"textfont":{"color":"rgba(60,141,188,1)"},"error_y":{"color":"rgba(60,141,188,1)"},"error_x":{"color":"rgba(60,141,188,1)"},"line":{"color":"rgba(60,141,188,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script><p class="caption">
Figure 4: Plotting positions in log-normal grid.
</p>
</div>
<p><br> On the basis of <em>Figure 3</em> and <em>Figure 4</em> we can subjectivly assess the goodness of fit of Weibull and Log-normal. It can be seen that in both grids, the plotted points roughly fall on a straight line. Hence one can say that the Weibull as well as the Log-normal are good model candidates for the <code>shock</code> data.</p>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>Kapur, K. C.; Lamberson, L. R.: <em>Reliability in Engineering Design</em>, <em>New York: Wiley</em>, 1977, pp. 297-301<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Benard, A.; Bos-Levenbach, E. C.: <em>The Plotting of Observations on Probability Paper</em>, <em>Statistica Neerlandica 7 (3)</em>, 1953, pp. 163-173<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>Meeker, W. Q.; Escobar, L. A.: <em>Statistical Methods for Reliability Data</em>, <em>New York, Wiley series in probability and statistics</em>, 1998, p. 630<a href="#fnref3" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Hensel Tim-Gunnar, Barkemeyer David.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
